<h1>DreamLiner</h1>

Arduino Code to Remote Control DJI Drone (Naja-M Flight Controller)

<a>아두이노를 사용해 컨트롤 하는 소스</a>

오드로이드 : 쿼드콥터에 탑재되는 메인 컨트롤러<br>
아두이노 : 실제 쿼드콥터를 조종하는 서브 컨트롤러. 여러 센서장착예정<br>

Arduino_Controller :

시그널 핀은 2,3,4,5,6,7,8,9 번을 사용하고 20ms마다 1.0~2.0ms 의 신호를 출력합니다.

시리얼 통신 속도 : 115200bps

기본적으로 아두이노가 시작되면 loop()함수가 무한루프를 돌기 시작합니다.


오드로이드 -> 아두이노<br>
신호 프로토콜 : 50:50:0:50:1/  순서대로 AILE:ELEV:THRO:RUDD:MODE<br>
맨 마지막의 '/' 문자를 입력함으로서 EOF 즉, 한 명령의 끝을 표시함.<br>
차후 뒤에 1개의 신호를 더 붙여 LED등을 컨트롤 할 수 있게 만들 예정<br>
기본적으로 메인컨트롤러에서는 0~100 까지의 %숫자를 받아서 아두이노 안에서 자체 값으로 변경(SignalCalc)하여 사용<br>
<br>
쿼드콥터의 시동을 켜는 코드는 "100:0:0:0:1" 이며 맨 마지막 모드는 1,2,3 중에 어떤것이어도 시동은 켜지게됩니다.<br>
단 3번 수동모드일때를 제외하고 1,2번 일 경우에는 시동을 켠 후 스로틀이 20 이하에 있으면 몇초후 자동으로 시동이 꺼지게 됩니다.<br>
<br>

신호설명 :<br>

AILE : Aileron(에일러론) 기체의 좌우 기울기를 조종<br>
ELEV : Elevator(엘레베이터) 기수의 상하 움직임을 조종<br>
THRO : Throttle(스로틀) 기체의 프로펠러의 회전속도를 조종<br>
RUDD : Rudder(러더) 기체의 수평 좌우(기수의 좌우)의 회전을 조종<br>
AUX1 : 비행모드 설정. 1. GPS 모드 - 위치,고도,수평유지(1.86ms) 2. Attitude 모드 - 고도,수평유지(1.52ms) 3. Manual 모드 - 수동조종(1.20ms)<br>
AUX2 : 기체의 기수방향 모드 - 안씀 - 1.86ms로 고정<br>
EXT1 : 안씀 - 혹시몰라서 하나 더 만들어둔것.<br>
